"use strict";window.TemplatesNSG=Object.create(null),window.TemplatesNSG["templates/nsg/app-nav.html"]='<div class="nsg-app-nav">\n    <div class="icon-container-holders">\n        <div class="nsg-action-holder" ng-repeat="item in app.shared.actions" ng-style="{\'width\': (100 / (app.shared.actions.length) - 1) + \'%\'}" >\n            <app-action fn="{{item.fn}}" icon="{{item.icon}}" active="{{item.active}}" actitle="{{item.title}}"></app-action>\n        </div>\n    </div>\n</div>',window.TemplatesNSG["templates/nsg/palette-save-modal.html"]='<div class="modal-body" ng-style="{\'background-color\': paletteSave.bgColor}">\n    <div class="modal-header">\n        <label class="modal-title" ng-class="{\'dontBreak\': paletteSave.data.dontBreak}" ng-bind-html="paletteSave.data.msg" ng-style="{\'color\': paletteSave.foreColor}"></label>\n    </div>\n    <div class="modal-footer">\n        <div class="bordered-box">\n            <button class="btn btn-primary" type="button" ng-click="paletteSave.dismiss()" ng-style="{\'color\': paletteSave.foreColor}">OK</button>\n        </div>\n    </div>\n</div>',window.TemplatesNSG["templates/nsg/top-nav-details.html"]='<div class="nsg-top-nav-details">\n    <div class="icon-container-holders">\n        <div class="icon-container" ng-class="{\'active\': color.topnav.isActive1}">\n            <i class="icon icon-notification"></i>\n        </div>\n        <div class="icon-container" ng-class="{\'active\': color.topnav.isActive2}">\n            <i class="icon icon-notification"></i>\n        </div>\n        <div class="icon-container" ng-class="{\'active\': color.topnav.isActive3}">\n            <i class="icon icon-notification"></i>\n        </div>\n    </div>\n</div>',window.TemplatesNSG["templates/nsg/color-contrast.html"]='<div ng-controller="ColorContrastController as colorContrast" class="anim-slide-left">\n    <div class="nsg-mid-view-container we36 nsg-color-contrast">\n        <div class="nsg-color-details-color-banner sample-contrast">\n            <div class="nsg-color-item">\n                <div class="nsg-color-fill">\n                    <div class="fill-box no-shadow" ng-style="{\'background-color\': colorContrast.backcolor1}">\n                        <md-input-container class="md-block nsg-color-input-container" flex-gt-sm ng-class="{\'light\':colorContrast.color1IsLight}">\n                            <label>Color #1</label>\n                            <input class="nsg-color-input" ng-model="colorContrast.color1" ng-change="colorContrast.colorChanged()" />\n                        </md-input-container>\n                    </div>\n                </div>\n            </div>\n            <div class="nsg-color-item">\n                <div class="nsg-color-fill">\n                    <div class="fill-box no-shadow" ng-style="{\'background-color\': colorContrast.backcolor2}">\n                        <md-input-container class="md-block nsg-color-input-container" flex-gt-sm ng-class="{\'light\':colorContrast.color2IsLight}">\n                            <label>Color #2</label>\n                            <input class="nsg-color-input" ng-model="colorContrast.color2" ng-change="colorContrast.colorChanged()" />\n                        </md-input-container>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="clearfix"></div>\n        <div class="nsg-color-details contrast-ratio-box">\n            <div class="box-holder">\n                <div class="nsg-color-details-box w100">\n                    <label class="nsg-color-details-box-label w100">Color  Contrast</label>\n                    <label class="nsg-color-contrast-label w100">\n                        <span class="span-part" ng-bind="colorContrast.ratio"></span>:<span class="span-part">1</span>\n                    </label>\n                </div>\n            </div>\n        </div>\n        <div class="clearfix"></div>\n    </div>\n    <div class="nsg-bottom-content nsg-color-contrast">\n        <md-input-container class="nsg-color-contrast-mode">\n            <md-select ng-model="colorContrast.mode" data-md-container-class="nsg-contrast-mode-toggle" ng-style="{\'color\': \'#000\'}" ng-change="colorContrast.colorChanged()">\n                <md-select-header class="nsg-contrast-creator-select-header">\n                    <label>Choose Vision Type</label>\n                </md-select-header>\n                <md-optgroup label="modes">\n                    <md-option ng-value="item" ng-repeat="item in colorContrast.colorContrastModes"\n                               ng-style="{\'color\': \'#000\'}">{{item.name}}</md-option>\n                </md-optgroup>\n            </md-select>\n        </md-input-container>\n    </div>\n</div>',window.TemplatesNSG["templates/nsg/color-details-edit.html"]='<div class="nsg-color-details-edit">\n    <div ng-cloak="" class="nsg-color-edit-tabs">\n        <md-content>\n            <md-tabs md-dynamic-height="" md-border-bottom="">\n                <md-tab label="CMYK">\n                    <md-content class="md-padding">\n                        <md-slider-container>\n                            <md-slider exclass="nsg" mark="C" flex="" min="0" max="100" ng-model="color.cmyk.c" ng-change="color.cmykValueChanged(false,\'cmyk-c-slider\')" aria-label="cmyk-c" id="cmyk-c-slider">\n                            </md-slider>\n                        </md-slider-container>\n                        <md-input-container>\n                            <input class="nsg-edit-input" ng-model="color.cmyk.c" ng-change="color.cmykValueChanged(true)" id="cmyk-c-slider-input" /><span style="margin-left:1px">%</span>\n                        </md-input-container>\n                        <md-slider-container>\n                            <md-slider exclass="nsg" mark="M" flex="" min="0" max="100" ng-model="color.cmyk.m" ng-change="color.cmykValueChanged(false,\'cmyk-m-slider\')" aria-label="cmyk-m" id="cmyk-m-slider">\n                            </md-slider>\n                        </md-slider-container>\n                        <md-input-container>\n                            <input class="nsg-edit-input" ng-model="color.cmyk.m" ng-change="color.cmykValueChanged(true)" id="cmyk-m-slider-input" /><span style="margin-left:1px">%</span>\n                        </md-input-container>\n                        <md-slider-container>\n                            <md-slider exclass="nsg" mark="Y" flex="" min="0" max="100" ng-model="color.cmyk.y" ng-change="color.cmykValueChanged(false,\'cmyk-y-slider\')" aria-label="cmyk-y" id="cmyk-y-slider">\n                            </md-slider>\n                        </md-slider-container>\n                        <md-input-container>\n                            <input class="nsg-edit-input" ng-model="color.cmyk.y" ng-change="color.cmykValueChanged(true)" id="cmyk-y-slider-input" /><span style="margin-left:1px">%</span>\n                        </md-input-container>\n                        <md-slider-container>\n                            <md-slider exclass="nsg" mark="K" flex="" min="0" max="100" ng-model="color.cmyk.k" ng-change="color.cmykValueChanged(false,\'cmyk-k-slider\')" aria-label="cmyk-k" id="cmyk-k-slider">\n                            </md-slider>\n                        </md-slider-container>\n                        <md-input-container>\n                            <input class="nsg-edit-input" ng-model="color.cmyk.k" ng-change="color.cmykValueChanged(true)" id="cmyk-k-slider-input" /><span style="margin-left:1px">%</span>\n                        </md-input-container>\n                    </md-content>\n                </md-tab>\n                <md-tab label="RGB">\n                    <md-content class="md-padding">\n                        <md-slider-container>\n                            <md-slider exclass="nsg" mark="R" flex="" min="0" max="100" ng-model="color.rgb.r" ng-change="color.rgbValueChange(false,\'rgb-r-slider\')" aria-label="rgb-r" id="rgb-r-slider">\n                            </md-slider>\n                        </md-slider-container>\n                        <md-input-container>\n                            <input class="nsg-edit-input" ng-model="color.rgb.r" ng-change="color.rgbValueChange(true)" id="rgb-r-slider-input" /><span style="margin-left:1px">%</span>\n                        </md-input-container>\n                        <md-slider-container>\n                            <md-slider exclass="nsg" mark="G" flex="" min="0" max="100" ng-model="color.rgb.g" ng-change="color.rgbValueChange(false, \'rgb-g-slider\')" aria-label="rgb-g" id="rgb-g-slider">\n                            </md-slider>\n                        </md-slider-container>\n                        <md-input-container>\n                            <input class="nsg-edit-input" ng-model="color.rgb.g" ng-change="color.rgbValueChange(true)" id="rgb-g-slider-input" /><span style="margin-left:1px">%</span>\n                        </md-input-container>\n                        <md-slider-container>\n                            <md-slider exclass="nsg" mark="B" flex="" min="0" max="100" ng-model="color.rgb.b" ng-change="color.rgbValueChange(false, \'rgb-b-slider\')" aria-label="rgb-b" id="rgb-b-slider">\n                            </md-slider>\n                        </md-slider-container>\n                        <md-input-container>\n                            <input class="nsg-edit-input" ng-model="color.rgb.b" ng-change="color.rgbValueChange(true)" id="rgb-b-slider-input" /><span style="margin-left:1px">%</span>\n                        </md-input-container>\n                    </md-content>\n                </md-tab>\n                <md-tab label="HSB">\n                    <md-content class="md-padding">\n                        <md-slider-container>\n                            <md-slider exclass="nsg" mark="H" flex="" min="0" max="359" ng-model="color.hsb.h" ng-change="color.hsbValueChange(false, \'hsb-h-slider\')" aria-label="hsb-h" id="hsb-h-slider">\n                            </md-slider>\n                        </md-slider-container>\n                        <md-input-container>\n                            <input class="nsg-edit-input" ng-model="color.hsb.h" ng-change="color.hsbValueChange(true)" id="hsb-h-slider-input" /><span style="margin-left:2px"><span class="icon-degree">O</span></span>\n                        </md-input-container>\n                        <md-slider-container>\n                            <md-slider exclass="nsg" mark="S" flex="" min="0" max="100" ng-model="color.hsb.s" ng-change="color.hsbValueChange(false, \'hsb-s-slider\')" aria-label="hsb-s" id="hsb-s-slider">\n                            </md-slider>\n                        </md-slider-container>\n                        <md-input-container>\n                            <input class="nsg-edit-input" ng-model="color.hsb.s" ng-change="color.hsbValueChange(true)" id="hsb-s-slider-input" /><span style="margin-left:1px">%</span>\n                        </md-input-container>\n                        <md-slider-container>\n                            <md-slider exclass="nsg" mark="B" flex="" min="0" max="100" ng-model="color.hsb.b" ng-change="color.hsbValueChange(false, \'hsb-b-slider\')" aria-label="hsb-b" id="hsb-b-slider">\n                            </md-slider>\n                        </md-slider-container>\n                        <md-input-container>\n                            <input class="nsg-edit-input" ng-model="color.hsb.b" ng-change="color.hsbValueChange(true)" id="hsb-b-slider-input" /><span style="margin-left:1px">%</span>\n                        </md-input-container>\n                    </md-content>\n                </md-tab>\n                <md-tab label="HEX">\n                    <md-content class="md-padding hex-input-container">\n                        <md-input-container>\n                            <input class="hex-input" ng-model="color.hex" ng-change="color.hexValueChanged()" />\n                        </md-input-container>\n                    </md-content>\n                </md-tab>\n            </md-tabs>\n        </md-content>\n    </div>\n\n</div>',window.TemplatesNSG["templates/nsg/color-details-view.html"]='<div class="nsg-color-details">\n    <div class="box-holder">\n        <div class="nsg-color-details-box">\n            <label class="nsg-color-details-box-label w100">CMYK</label>\n            <div class="nsg-color-details-box-content">\n                <label class="nsg-color-detail">C<span class="value">{{color.cmyk.c}}%</span></label>\n                <label class="nsg-color-detail">M<span class="value">{{color.cmyk.m}}%</span></label>\n                <label class="nsg-color-detail">Y<span class="value">{{color.cmyk.y}}%</span></label>\n                <label class="nsg-color-detail">K<span class="value">{{color.cmyk.k}}%</span></label>\n            </div>\n        </div>\n        <div class="icon-container nsg-color-details-box-copy" ng-click="color.copyCMYK()">\n            <i class="icon icon-png copy"></i>\n        </div>\n        <div class="clearfix"></div>\n    </div>\n    <div class="box-holder">\n        <div class="nsg-color-details-box">\n            <label class="nsg-color-details-box-label w100">RGB</label>\n            <div class="nsg-color-details-box-content">\n                <label class="nsg-color-detail">R<span class="value">{{color.rgb.r}}%</span></label>\n                <label class="nsg-color-detail">G<span class="value">{{color.rgb.g}}%</span></label>\n                <label class="nsg-color-detail">B<span class="value">{{color.rgb.b}}%</span></label>\n            </div>\n        </div>\n        <div class="icon-container nsg-color-details-box-copy" ng-click="color.copyRGB()">\n            <i class="icon icon-png copy"></i>\n        </div>\n        <div class="clearfix"></div>\n    </div>\n    <div class="box-holder">\n        <div class="nsg-color-details-box">\n            <label class="nsg-color-details-box-label w100">HSB</label>\n            <div class="nsg-color-details-box-content">\n                <label class="nsg-color-detail">H<span class="value">{{color.hsb.h}}<span class="icon-degree">O</span></span></label>\n                <label class="nsg-color-detail">S<span class="value">{{color.hsb.s}}%</span></label>\n                <label class="nsg-color-detail">B<span class="value">{{color.hsb.b}}%</span></label>\n            </div>\n        </div>\n        <div class="icon-container nsg-color-details-box-copy" ng-click="color.copyHSB()">\n            <i class="icon icon-png copy"></i>\n        </div>\n        <div class="clearfix"></div>\n    </div>\n    <div class="box-holder">\n        <div class="nsg-color-details-box">\n            <label class="nsg-color-details-box-label w100">HEX</label>\n            <div class="nsg-color-details-box-content">\n                <label class="nsg-color-detail">#<span class="value">{{color.hex}}</span></label>\n            </div>\n        </div>\n        <div class="icon-container nsg-color-details-box-copy" ng-click="color.copyHex()">\n            <i class="icon icon-png copy"></i>\n        </div>\n        <div class="clearfix"></div>\n    </div>\n</div>',window.TemplatesNSG["templates/nsg/color-details.html"]='<div ng-controller="ColorDetailsController as color" class="anim-slide-left">\n    <div class="nsg-mid-view-container we48">\n        <div class="nsg-color-details-color-banner full curPointer" ng-style="{\'background-color\': color.activeColor}" ng-click="app.goColorEdit()">\n            <div class="color-banner-source" ng-class="{\'mid\': color.activeChange}" ng-style="{\'background-color\': color.origColor}" ng-click="color.revertToOrig($event)"></div>\n            <i class="icon icon-png edit color-edit" ng-style="{\'color\': color.foreColor}" ng-show="!app.editColor" ng-class="{\'black\': color.isLight == false}"></i>\n            <label class="color-banner-title curPointer" ng-style="{\'color\': color.foreColor}">\n                <span ng-class="{\'dontShowOnHover\': !app.editColor}">{{color.name}}</span>\n                <span ng-class="{\'showOnHover\': !app.editColor}" ng-show="!app.editColor">Tap to edit</span>\n            </label>\n        </div>\n        <div class="ui-color-details anim-in-out anim-slide-below-fade" ui-view data-anim-speed="294" data-anim-sync="true"></div>\n    </div>\n</div>',window.TemplatesNSG["templates/nsg/color-picker.html"]='<div ng-controller="ColorPickerController as color"\n     class="anim-slide-left"\n     ng-mousewheel-up="color.mouseWheelUp()"\n     ng-mousewheel-down="color.mouseWheelDown()"\n     hm-swipeleft="color.swipeLeft($event)"\n     hm-swiperight="color.swipeRight($event)"\n     hm-recognizer-options=\'[{"type":"swipe","threshold":20, "directions":"DIRECTION_HORIZONTAL"}]\'>\n    <div class="nsg-mid-view-container we48 posRelative overflowHid" id="id_cardPannableContentHolder"\n         ng-style="{\'background-color\': color.color}"\n         hm-panstart="color.panStart($event)"\n         hm-panup="color.panvert($event, \'up\')"\n         hm-pandown="color.panvert($event, \'down\')"\n         hm-panleft="color.panhorz($event, \'left\')"\n         hm-panright="color.panhorz($event, \'right\')"\n         hm-panend="color.panHorzEnd($event)"\n         hm-recognizer-options=\'[{"type":"pan","threshold":5,"pointers": 0, "directions":"DIRECTION_ALL"}]\'>\n        <canvas class="before" ng-attr-id="{{color.canvasIdBefore}}" ng-show="color.showElements" ng-style="{\'left\': color.canvas.leftBefore + \'px\'}"></canvas>\n        <canvas class="current" ng-attr-id="{{color.canvasIdCurrent}}" ng-show="color.showElements"></canvas>\n        <canvas class="after" ng-attr-id="{{color.canvasIdAfter}}" ng-show="color.showElements" ng-style="{\'left\': color.canvas.leftAfter + \'px\'}"></canvas>\n        <div class="colorHighlighter" ng-class="{\'anim\': color.animTop}" ng-style="{\'background-color\': color.badgeColor, \'border-color\': color.badgeForeColor }" id="id_cardPannableContent" tabindex="0" ng-keyup="color.keyUp($event)" ng-show="color.showElements && color.showBadge">\n            <label class="nsg-color-shade-name" ng-bind="color.badgeColor" ng-style="{\'color\': color.badgeForeColor}"></label>\n            <i class="icon icon-targetFixedFilled nsg-primary-shade opac1" ng-show="true" ng-style="{\'background-color\': color.origColorPrimary}" ng-click="color.resetColor()"></i>\n        </div>\n    </div>\n</div>',window.TemplatesNSG["templates/nsg/dribbble-shots.html"]='<div ng-controller="DribbbleShotsController as dribbble" class="anim-slide-left">\n    <div class="dribbble-loading" ng-hide="dribbble.shotsLoading == false" id="nsg_dribbbleLoading" ng-style="{\'background-color\': dribbble.shared.activeColor}">\n        <div class="spinner">\n            <div class="double-bounce1"></div>\n            <div class="double-bounce2"></div>\n        </div>\n    </div>\n    <div class="nsg-mid-view-container we48 nsg-themes-popular nsg-dribbble-shots" ng-show="dribbble.shotsAvailable">\n        <!--<label class="nsg-title">Dribbble Shots</label>-->\n        <div class="nsg-theme-item dribbble-shot" ng-repeat="shot in dribbble.shots track by $index">\n            <div class="nsg-theme-color-container">\n                <a ng-click="dribbble.openShot(shot)">\n                    <div class="dribbble-img-shot" ng-style="{\'background-image\': \'url(\' + shot.img + \')\'}"></div>\n                </a>\n            </div>\n        </div>\n        <a class="dribbbleLink" ng-click="dribbble.openShotsPage()">See more shots @ Dribble</a>\n    </div>\n</div>',window.TemplatesNSG["templates/nsg/themes-creator.html"]='<div ng-controller="ThemesCreatorController as themesCreator" class="anim-slide-left">\n    <div class="nsg-mid-view-container we36 nsg-themes-creator" ng-style="{\'background-color\': themesCreator.colors[0].color}" tabindex="0" ng-keyup="themesCreator.keyUp($event)" id="_nsg_themesCreator">\n        <div class="nsg-theme-creator-palette">\n            <div class="nsg-theme-create-color-item" ng-repeat="color in themesCreator.colors track by $index" ng-style="{\'background-color\': color.color}" ng-click="themesCreator.toggle(color)">\n                <i class="icon icon-locked" ng-show="color.locked" ng-style="{\'color\': color.foreColor}"></i>\n            </div>\n        </div>\n        <div class="nsg-theme-share-overlay" ng-show="themesCreator.sharePanelShow" ng-click="themesCreator.sharePanelHide()"></div>\n        <div class="nsg-theme-share" ng-show="themesCreator.sharePanelShow">\n            <label class="title">Export palette as</label>\n            <div class="nsg-theme-share-item" ng-click="themesCreator.writePNGFile()">\n                <i class="icon icon-palette-share png"></i>\n                <label>PNG</label>\n            </div>\n            <div class="nsg-theme-share-item" ng-click="themesCreator.writeSVGFile()">\n                <i class="icon icon-palette-share svg"></i>\n                <label>SVG</label>\n            </div>\n            <div class="nsg-theme-share-item" ng-click="themesCreator.writeSCSSFile()">\n                <i class="icon icon-palette-share scss"></i>\n                <label>SCSS</label>\n            </div>\n            <div class="nsg-theme-share-item" ng-click="themesCreator.writeToASE()">\n                <i class="icon icon-palette-share ase"></i>\n                <label>Adobe Swatch</label>\n            </div>\n        </div>\n    </div>\n    <div class="nsg-bottom-content nsg-color-contrast">\n        <md-input-container class="theme-generator-mode-selctor">\n            <md-select ng-model="themesCreator.mode" data-md-container-class="nsg-theme-mode-toggle">\n                <md-select-header class="nsg-theme-creator-select-header">\n                    <label>Change Palette type</label>\n                </md-select-header>\n                <md-optgroup label="modes">\n                    <md-option ng-value="item" ng-repeat="item in themesCreator.themeGeneratorOptions"\n                               ng-style="{\'color\': themesCreator.foreColorIsLight == true ? themesCreator.colors[0].color : themesCreator.foreColor}">{{item.name}}</md-option>\n                </md-optgroup>\n            </md-select>\n        </md-input-container>\n    </div>\n</div>\n',window.TemplatesNSG["templates/nsg/themes-popular.html"]='<div ng-controller="ThemesPopularController as themesPopular" class="anim-slide-left">\n    <div class="nsg-mid-view-container we36 nsg-themes-popular">\n        <div class="nsg-theme-item" ng-repeat="theme in themesPopular.themes" ng-click="themesPopular.openInEditor(theme)">\n            <div class="nsg-theme-color-container">\n                <div class="nsg-theme-color" ng-repeat="color in theme.colors track by $index" ng-style="{\'background-color\': color}"></div>                \n            </div>\n        </div>\n    </div>\n    <div class="nsg-bottom-content nsg-color-contrast">\n        <label class="nsg-title" ng-click="app.goThemesCreator()"><span style="margin-right:5px;"> + </span><span></span>Create Theme</label>\n    </div>\n</div>';
function getViewPath(e){return"templates/nsg/"+e+".html"}function registerRoutes(e,t){e.state("ColorContrast",{url:"/ColorContrast",templateUrl:getViewPath("color-contrast")}).state("ColorPicker",{url:"/ColorPicker",templateUrl:getViewPath("color-picker")}).state("ColorDetails",{url:"/ColorDetails",templateUrl:getViewPath("color-details")}).state("ColorDetails.View",{url:"/View",templateUrl:getViewPath("color-details-view")}).state("ColorDetails.Edit",{url:"/Edit",templateUrl:getViewPath("color-details-edit")}).state("ThemesPopular",{url:"/ThemesPopular",templateUrl:getViewPath("themes-popular")}).state("ThemesCreator",{url:"/ThemesCreator",templateUrl:getViewPath("themes-creator")}).state("DribbbleShots",{url:"/DribbbleShots",templateUrl:getViewPath("dribbble-shots")})}angular.module("NotSoGrey.UI.Templates",[]).run(["$templateCache",function(e){for(var t in window.TemplatesNSG)e.put(t,window.TemplatesNSG[t])}]),angular.module("NotSoGrey",["NotSoGrey.UI.Templates","ngAnimate","ui.bootstrap","ui.router","ngMaterial","hmTouchEvents","anim-in-out","ngResource","ngSanitize"]).config(["$stateProvider","$locationProvider",registerRoutes]).run(["$state",function(e){e.go("ColorPicker")}]);
angular.module("NotSoGrey").service("SharedService",["$http","$q","$window","$state","$resource",function(e,o,r,t,n){var a=this;a.state=t,a.resource=n;try{var s=require("electron"),c=s.remote.getCurrentWindow();a.activeColor=c.activeColor||"#c0392b"}catch(e){a.activeColor="#c0392b"}try{chrome&&chrome.storage&&chrome.storage.onChanged.addListener(function(e,o){"local"==o&&null!=e.NSG_COLOR_DATA&&e.NSG_COLOR_DATA!={}&&e.NSG_COLOR_DATA&&"undefined"!=typeof a.activeColorChanged&&"function"==typeof a.activeColorChanged&&a.activeColorChanged(tinycolor(e.NSG_COLOR_DATA.newValue).toHexString())})}catch(e){a.activeColor="#c0392b"}console.log("hello "+a.activeColor),a.actions=[],a.preLoadedThemeInEdit=!1,a.preLoadedTheme=null;try{a.electron=require("electron")}catch(e){a.electron=null}a.colorContrastModes=[{id:1,name:"Normal Vision",key:"normal",anomalize:!1},{id:2,name:"Protanopia",key:"protan",anomalize:!1},{id:3,name:"Protanomaly",key:"protan",anomalize:!0},{id:4,name:"Deuteranopia",key:"deutan",anomalize:!1},{id:5,name:"Deuteranomaly",key:"deutan",anomalize:!0},{id:6,name:"Tritanopia",key:"tritan",anomalize:!1},{id:7,name:"Tritanomaly",key:"tritan",anomalize:!0},{id:8,name:"Achromatopsia",key:"achroma",anomalize:!1},{id:9,name:"Achromatomaly",key:"achroma",anomalize:!0}],a.baseColorWheel=[{id:1,h:28,s:1,v:1,b:15,t:36,o:7,so:6},{id:2,h:0,s:1,v:.99,b:337,t:14,o:8,so:5},{id:3,h:312,s:.99,v:.75,b:301,t:336,o:9,so:4},{id:4,h:287,s:1,v:.75,b:280,t:300,o:10,so:3},{id:5,h:272,s:1,v:.75,b:258,t:279,o:11,so:2},{id:6,h:241,s:1,v:1,b:208,t:257,o:0,so:1},{id:7,h:172,s:1,v:.75,b:147,t:207,o:1,so:12},{id:8,h:119,s:.99,v:.75,b:95,t:146,o:2,so:11},{id:9,h:71,s:1,v:1,b:67,t:94,o:3,so:10},{id:10,h:61,s:1,v:1,b:58,t:66,o:4,so:9},{id:11,h:52,s:1,v:1,b:49,t:57,o:5,so:8},{id:12,h:44,s:1,v:1,b:37,t:48,o:6,so:7}],a.correctForBlindness=function(e,o){var r=tinycolor(e),t=r.toRgb(),n={R:t.r,G:t.g,B:t.b},a=Color.Blind(n,o.key,o.anomalize);return t={r:a.R,g:a.G,b:a.B},tinycolor(t).toHexString()},a.themeGeneratorOptions=[{id:1,name:"Preloaded Themes"},{id:2,name:"Monochromatic"},{id:3,name:"Analogous"},{id:4,name:"Custom Complementary"}],a.getBaseWheelColor=function(e){var o=tinycolor(e),r=o.toHsv(),t=null;return t=r.h>=337&&r.h<=360||r.h>=0&&r.h<=14?a.baseColorWheel[1]:_.find(a.baseColorWheel,function(e){return r.h>=e.b&&r.h<=e.t})},a.getOppositeBaseWheelColor=function(e,o){var r=_.find(a.baseColorWheel,function(o){return o.id==e.id});return r?_.find(a.baseColorWheel,function(e){return 1!=o?e.id==r.o:e.id==r.so}):null},a.getAnalogousColors=function(e){var o=_.find(a.baseColorWheel,function(o){return o.id==e.id}),r=o.id,t=[];t=1==r?[[11,12,1],[12,1,2],[1,2,3]]:2==r?[[12,1,2],[1,2,3],[2,3,4]]:11==r?[[9,10,11],[10,11,12],[11,12,1]]:12==r?[[10,11,12],[11,12,1],[12,1,2]]:[[r-2,r-1,r],[r-1,r,r+1],[r,r+1,r+2]];var n=_.sample(t),s=[];return _.each(n,function(e){var o=_.find(a.baseColorWheel,function(o){return o.id==e});o&&s.push(o)}),s},a.adjustHueValue=function(e,o,r){var t,n=0,a=r.h,s=!1;return 2!=o.id?(t=o.h-e.h,t>0?(n=Math.abs(t)/(o.h-o.b),s=!1):t<0&&(n=Math.abs(t)/(o.t-o.h),s=!0)):e.h>=337&&e.h<=360?(t=360-e.h,n=Math.abs(t)/(360-o.b),s=!1):e.h>=0&&e.h<=14&&(t=0-e.h,n=Math.abs(t)/(o.h-0),s=!0),2!=r.id?1==s?(_deflection=n*(r.t-r.h),a=r.h-_deflection):(_deflection=n*(r.h-r.b),a=r.h+_deflection):a=r.h,a},a.loadActions=function(e,o){a.actions=[],angular.forEach(e,function(e){a.actions.push(angular.copy(e))})},a.writeToClipboard=function(e){var o=require("electron");o.clipboard.writeText(e.toString())},a.getCodeOnlyFromHexCode=function(e){return tinycolor(e).toHex()},a.getHexFromCode=function(e){return tinycolor(e).toHexString()},a.getRGBCodeOnlyFromHexCode=function(e){return tinycolor(e).toRgb()},a.getHSVCodeOnlyFromHexCode=function(e){return tinycolor(e).toHsv()},a.getContrastRatio=function(e,o){var r=tinycolor.readability(tinycolor(e),tinycolor(o));return Math.round(100*r)/100},a.isLight=function(e){return tinycolor(e).isLight()},a.getForegrundContrastedColor=function(e){var o=tinycolor(e),r=tinycolor.readability(o,tinycolor("#000000")),t=tinycolor.readability(o,tinycolor("#ffffff"));return r>t?"#000000":r<t?"#ffffff":r==t?_.sample(["#000000","#ffffff"]):""},a.getCMYK=function(e){var o=tinycolor(e).toRgb(),r=o.r,t=o.g,n=o.b,a=0,s=0,c=0,l=0;if(r=parseInt((""+r).replace(/\s/g,""),10),t=parseInt((""+t).replace(/\s/g,""),10),n=parseInt((""+n).replace(/\s/g,""),10),null==r||null==t||null==n||isNaN(r)||isNaN(t)||isNaN(n))return void alert("Please enter numeric RGB values!");if(r<0||t<0||n<0||r>255||t>255||n>255)return void alert("RGB values must be in the range 0 to 255.");if(0==r&&0==t&&0==n)return l=1,[0,0,0,1];a=1-r/255,s=1-t/255,c=1-n/255;var i=Math.min(a,Math.min(s,c));return a=(a-i)/(1-i),s=(s-i)/(1-i),c=(c-i)/(1-i),l=i,{c:a,m:s,y:c,k:l}},a.getPercentageCMYK=function(e){var o=a.getCMYK(e);return{c:Math.round(100*o.c),m:Math.round(100*o.m),y:Math.round(100*o.y),k:Math.round(100*o.k)}},a.getPercentageRGB=function(e){var o=tinycolor(e),r=o.toRgb();return{r:Math.round(r.r/255*100),g:Math.round(r.g/255*100),b:Math.round(r.b/255*100)}},a.getPercentageHSB=function(e){var o=tinycolor(e),r=o.toHsv();return{h:Math.round(r.h),s:Math.round(100*r.s),b:Math.round(100*r.v)}},a.getNextHueHex=function(e){var o=tinycolor(e).toHsv();return o.h=o.h+18,o.h>360&&(o.h=o.h-360),tinycolor(o).toHexString()},a.getPreviousHueHex=function(e){var o=tinycolor(e).toHsv();return o.h=o.h-18,o.h<0&&(o.h=360+o.h),tinycolor(o).toHexString()},a.processForShades=function(e){var o=[],r=[],t=[];_.each(_.range(6),function(o){t.push({id:"_sat_"+o,hexCode:tinycolor(e).brighten(10*(o+1)).toHexString(),type:"sat"+o})}),_.each(_.range(6),function(o){r.push({id:"_desat_"+o,hexCode:tinycolor(e).darken(5*(o+1)).toHexString(),type:"desat"+o})}),r=r.reverse(),o=o.concat(r),o=o.concat([{id:"_nor_",hexCode:e}]),o=o.concat(t),o=o.reverse();var n=0,s=[0,30,35,40,45,50,55,25,30,35,40,45,50],c=0;return _.each(o,function(e,o){o<=6?(c++,e.topOffset=n+s[o],e.zindex=c):o>6&&(c--,e.topOffset=n+80-s[o],e.zindex=c),6==o&&(e.primary=!0),e.foreColor=a.getForegrundContrastedColor(e.hexCode),n=e.topOffset}),{shades:o,height:_.last(o).topOffset+80}};var l;return a.handleChangeInColor=function(e,r,t){l&&l.reject(),l=o.defer();try{var n;"cmyk"==e?n=a.handleCMYKChange(r):"rgb"==e?n=a.handleRGBChange(r):"hsb"==e&&(n=a.handleHSBChange(r)),l.resolve(n)}catch(e){l.resolve(t)}return l.promise},a.handleCMYKChange=function(e){var o={r:Math.round(255*(1-e.c/100)*(1-e.k/100)),g:Math.round(255*(1-e.m/100)*(1-e.k/100)),b:Math.round(255*(1-e.y/100)*(1-e.k/100))};return tinycolor(o).toHexString()},a.handleRGBChange=function(e){var o={r:Math.round(255*(e.r/100)),g:Math.round(255*(e.g/100)),b:Math.round(255*(e.b/100))};return tinycolor(o).toHexString()},a.handleHSBChange=function(e){var o={h:e.h,s:e.s,v:e.b};return tinycolor(o).toHexString()},a.handleChangeInCMYK=function(e,o){return a.handleChangeInColor("cmyk",e,o)},a.handleChangeInRGB=function(e,o){return a.handleChangeInColor("rgb",e,o)},a.handleChangeInHSB=function(e,o){return a.handleChangeInColor("hsb",e,o)},a.generateThemes=function(){var e=o.defer();return a.resource("dist/jsons/themes-popular.json").query().$promise.then(function(o){var r=tinycolor(a.activeColor).toHsv(),t=[];_.each(o,function(e,o){var n=[],a=!1;_.each(e,function(e){var o=tinycolor(e),t=o.toHsv();t.h>=r.h-3&&t.h<=r.h+3&&t.s>=r.s-5&&t.s<=r.s+5&&t.v>=r.v-5&&t.v<=r.v+5&&(a=a||!0),n.push(o.toHexString())}),a&&t.push({id:o+1,name:"Beach Time "+(o+1),colors:n})}),a.preGeneratedThemes=t,e.resolve(t)}),e.promise},a.processComboForTheme=function(e){var o=[];return _.each(e.colors,function(e,r){o.push({id:r+1,color:e,locked:!1})}),o},a.generateColorPalette=function(e,o){return 1==o.id?a.generateColorPaletteFromPreLoadedThemes():2==o.id?a.generateColorPaletteMonochromeUsingPlease(e):3==o.id?a.generateColorPaletteAnalagous(e):4==o.id?a.generateColorPaletteCustomComplementary(e):void 0},a.generateColorPaletteFromPreLoadedThemes=function(){var e=_.sample(a.preGeneratedThemes);return a.processComboForTheme(e)},a.generateMonochromeColorPaletteForColor=function(e){var o=[];_.each(_.range(5),function(r){o.push({id:r+1,color:e,locked:!1})}),o[0].locked=!0;var r=tinycolor(o[0].color),t=r.toHsv(),n=Please.make_scheme(t,{scheme_type:"monochromatic",format:"hex"});return _.each(o,function(e,o){e.color=1==e.locked?e.color:n[o],e.foreColor=a.getForegrundContrastedColor(e.color)}),o},a.generateColorPaletteMonochromeUsingPlease=function(e){var o=tinycolor(e[0].color),r=o.toHsv();0==e[0].locked&&(e[0].color=tinycolor({h:_.random(0,360),s:r.s,v:r.v}).toHexString()),o=tinycolor(e[0].color),r=o.toHsv(),r=o.toHsv(),r.s=Math.round(100*r.s),r.v=Math.round(100*r.v);var t=_.random(.5*r.s,100),n=_.random(.5*r.v,100);r.s=t/100,r.v=n/100;var s=Please.make_scheme(r,{scheme_type:"monochromatic",format:"hex"});return _.each(e,function(e,o){e.color=1==e.locked?e.color:s[o],e.foreColor=a.getForegrundContrastedColor(e.color)}),e},a.generateColorPaletteCustomComplementary=function(e){var o=tinycolor(e[0].color),r=o.toHsv();0==e[0].locked&&(e[0].color=tinycolor({h:_.random(0,360),s:r.s,v:r.v}).toHexString()),o=tinycolor(e[0].color),r=o.toHsv();var t=a.getBaseWheelColor(o),n=a.getOppositeBaseWheelColor(t,_.sample([!0,!1])),s=a.adjustHueValue(r,t,n),c=_.random(100*t.s,100),l=_.random(100*t.v,100);s>360&&(s-=360),0==e[4].locked&&(e[4].color=tinycolor({h:s,s:c/100,v:l/100}).toHexString());var i=_.random(0,100*r.v);0==e[1].locked&&(e[1].color=tinycolor({h:r.h,s:r.s,v:i/100}).toHexString()),0==e[3].locked&&(e[3].color=tinycolor({h:s,s:c/100,v:i/100}).toHexString());var u=_.random(0,20),l=_.random(75,100);return 0==e[2].locked&&(e[2].color=tinycolor({h:r.h,s:u/100,v:l/100}).toHexString()),_.each(e,function(e,o){e.foreColor=a.getForegrundContrastedColor(e.color)}),e},a.generateColorPaletteAnalagous=function(e){var o=tinycolor(e[0].color),r=o.toHsv();0==e[0].locked&&(e[0].color=tinycolor({h:_.random(0,360),s:r.s,v:r.v}).toHexString(),e[0].foreColor=a.getForegrundContrastedColor()),o=tinycolor(e[0].color),r=o.toHsv(),r.s=Math.round(100*r.s),r.v=Math.round(100*r.v);var t=_.random(.5*r.s,100),n=_.random(.5*r.v,100);r.s=t/100,r.v=n/100;var s=Please.make_scheme(r,{scheme_type:"analogous",format:"hex"});return _.each(e,function(e,o){e.color=1==e.locked?e.color:s[o],e.foreColor=a.getForegrundContrastedColor(e.color)}),e},a.getDribbleShots=function(e){l&&l.reject(),l=o.defer();try{null!=a.electron?(a.electron.ipcRenderer.send("get-dribbble",tinycolor(e).toHex()),a.electron.ipcRenderer.on("get-dribbble-reply",function(e,o){l.resolve(o)})):l.resolve(["https://d13yacurqjgara.cloudfront.net/users/275149/screenshots/2831723/maplooper_1x.png","https://d13yacurqjgara.cloudfront.net/users/698732/screenshots/2831032/004_1x.png","https://d13yacurqjgara.cloudfront.net/users/124800/screenshots/2830714/workspace_1x.jpg","https://d13yacurqjgara.cloudfront.net/users/14224/screenshots/2830043/03_1x.png","https://d13yacurqjgara.cloudfront.net/users/159078/screenshots/2829616/landing-joined_1x.png","https://d13yacurqjgara.cloudfront.net/users/159078/screenshots/2829606/signup-joined_1x.png","https://d13yacurqjgara.cloudfront.net/users/159078/screenshots/2829591/checkout-joined_1x.png","https://d13yacurqjgara.cloudfront.net/users/361038/screenshots/2829283/400.jpg","https://d13yacurqjgara.cloudfront.net/users/790168/screenshots/2829055/dk_currency_1x.jpg","https://d13yacurqjgara.cloudfront.net/users/261966/screenshots/2828771/untitled-1.png","https://d13yacurqjgara.cloudfront.net/users/970944/screenshots/2827706/dribbble_0-60_1x.gif","https://d13yacurqjgara.cloudfront.net/users/17255/screenshots/2826939/kaleidoscope_1x.png"])}catch(e){console.log(e),l.resolve(["https://d13yacurqjgara.cloudfront.net/users/275149/screenshots/2831723/maplooper_1x.png","https://d13yacurqjgara.cloudfront.net/users/698732/screenshots/2831032/004_1x.png","https://d13yacurqjgara.cloudfront.net/users/124800/screenshots/2830714/workspace_1x.jpg","https://d13yacurqjgara.cloudfront.net/users/14224/screenshots/2830043/03_1x.png","https://d13yacurqjgara.cloudfront.net/users/159078/screenshots/2829616/landing-joined_1x.png","https://d13yacurqjgara.cloudfront.net/users/159078/screenshots/2829606/signup-joined_1x.png","https://d13yacurqjgara.cloudfront.net/users/159078/screenshots/2829591/checkout-joined_1x.png","https://d13yacurqjgara.cloudfront.net/users/361038/screenshots/2829283/400.jpg","https://d13yacurqjgara.cloudfront.net/users/790168/screenshots/2829055/dk_currency_1x.jpg","https://d13yacurqjgara.cloudfront.net/users/261966/screenshots/2828771/untitled-1.png","https://d13yacurqjgara.cloudfront.net/users/970944/screenshots/2827706/dribbble_0-60_1x.gif","https://d13yacurqjgara.cloudfront.net/users/17255/screenshots/2826939/kaleidoscope_1x.png"])}return l.promise},a.getColorName=function(e){l&&l.reject(),l=o.defer();try{null!=a.electron?(a.electron.ipcRenderer.send("get-hexcodename",tinycolor(e).toHexString()),a.electron.ipcRenderer.on("get-hexcodename-reply",function(o,r){l.resolve(r||e)})):l.resolve(e)}catch(o){console.log(o),l.resolve(e)}return l.promise},a}]);
angular.module("NotSoGrey").controller("AppController",["$scope","$timeout","$q","SharedService","$state",function(o,e,t,r,i){var n=this;n.shared=r,n.showCurrentColor=!1,n.direction="fwd",n.name="Not So Grey",n.hideLoader=!1,n.state=i,e(function(){n.hideLoader=!0},1e3),n.actionLaunch=function(o){console.log(o)},n.shared.activeColorChanged=function(e){n.shared.activeColor=e,console.log(n.shared.activeColor),(n.state.current.name="ColorPicker")&&n.shared.initPicker(n.shared.activeColor),o.$$phase||o.$apply()},n.goColorContrast=function(o){n.showCurrentColor=!0,n.direction=o||"fwd",n.state.go("ColorContrast")},n.goColorPicker=function(o){n.showCurrentColor=!1,n.direction=o||"fwd",n.state.go("ColorPicker")},n.goColorDetails=function(o){n.showCurrentColor=!1,n.editColor=!1,n.direction=o||"fwd",n.state.go("ColorDetails.View");var e=[{id:1,name:"color-picker",icon:"icon-png back",fn:"app.closeApp()",title:"Back To Launcher"},{id:2,name:"color-picker",icon:"icon-app-logo",fn:"app.goColorDetails()",active:!0,title:"Color Details"},{id:4,name:"color-contrast",icon:"icon-app-contrast",fn:"app.goColorContrast()",title:"Color Contrast"},{id:3,name:"color-theme",icon:"icon-app-theme",fn:"app.goThemesPopular()",title:"Popular Themes"},{id:5,name:"color-dribbble",icon:"icon-app-dribbble",fn:"app.goDribbble()",title:"Dribbble Shots"}];n.shared.loadActions(e,"ColorDetails.View")},n.ratifyColorDetails=function(){n.editColor=!1,n.goColorDetails(),n.shared.ratifyDetails()},n.goColorEdit=function(o){n.showCurrentColor=!1,n.editColor=!0,n.direction=o||"fwd",n.state.go("ColorDetails.Edit");var e=[{id:3,name:"accept",icon:"icon-png accept",fn:"app.ratifyColorDetails()",title:"Accept Changes",active:!0},{id:1,name:"close",icon:"icon-png reject",fn:"app.revertDetails()",title:"Revert Changes",active:!0}];n.shared.loadActions(e,"ColorDetails.Edit")},n.revertDetails=function(){n.shared.revertToOrig(),n.goColorDetails()},n.goThemesPopular=function(){n.showCurrentColor=!0,n.state.go("ThemesPopular")},n.goThemesCreator=function(){n.showCurrentColor=!0,n.state.go("ThemesCreator")},n.closeApp=function(){console.log(chrome.extension);try{var o=require("electron");o.ipcRenderer.send("close-main")}catch(o){}},n.generateThemes=function(){n.shared.generateThemes()},n.createThemeShuffle=function(){n.shared.shufflePalette()},n.goDribbble=function(){return 0==navigator.onLine?void n.shared.notifySave({msg:"Failed to detect network connectivity!",dontBreak:!0}):(n.showCurrentColor=!0,void(chrome?chrome.runtime.sendMessage({type:"NSG_COLOR_AVAILABLE_OPEN_DRIBBBLE",data:tinycolor(n.shared.activeColor).toHex()},function(o){console.log(0)}):n.state.go("DribbbleShots")))}}]);
angular.module("NotSoGrey").controller("ColorContrastController",["$state","SharedService",function(o,r){var e=this;e.state=o,e.shared=r;var t=[{id:1,name:"color-picker",icon:"icon-png back",fn:"app.goColorPicker()",title:"Back To Launcher"},{id:2,name:"color-picker",icon:"icon-app-logo",fn:"app.goColorDetails()",title:"Color Details"},{id:4,name:"color-contrast",icon:"icon-app-contrast",fn:"app.goColorContrast()",active:!0,title:"Color Contrast"},{id:3,name:"color-theme",icon:"icon-app-theme",fn:"app.goThemesPopular()",title:"Popular Themes"},{id:5,name:"color-dribbble",icon:"icon-app-dribbble",fn:"app.goDribbble()",title:"Dribbble Shots"}];e.shared.loadActions(t,"ColorContrast"),e.colorContrastModes=e.shared.colorContrastModes,e.mode=e.colorContrastModes[0],e.color1=e.shared.activeColor,e.backcolor1=e.color1,e.color2=e.shared.getForegrundContrastedColor(e.shared.activeColor),e.backcolor2=e.color2,e.ratio=e.shared.getContrastRatio(e.color1,e.color2),e.color1IsLight=e.shared.isLight(e.color1),e.color2IsLight=e.shared.isLight(e.color2),e.colorChanged=function(){e.color1IsLight=e.shared.isLight(e.color1),e.color2IsLight=e.shared.isLight(e.color2);var o=e.color1,r=e.color2;"normal"!=e.mode.key&&(o=e.shared.correctForBlindness(o,e.mode),r=e.shared.correctForBlindness(r,e.mode)),e.backcolor1=tinycolor(o).toHexString(),e.backcolor2=tinycolor(r).toHexString(),e.ratio=e.shared.getContrastRatio(o,r)},e.goThemePopular=function(){e.state.go("ThemesPopular")}}]);
angular.module("NotSoGrey").controller("ColorDetailsController",["$state","SharedService",function(e,o){var r=this;r.state=e,r.shared=o;var a=[{id:1,name:"color-picker",icon:"icon-png back",fn:"app.goColorPicker()",title:"Back To Launcher"},{id:2,name:"color-picker",icon:"icon-app-logo",fn:"app.goColorDetails()",active:!0,title:"Color Details"},{id:4,name:"color-contrast",icon:"icon-app-contrast",fn:"app.goColorContrast()",title:"Color Contrast"},{id:3,name:"color-theme",icon:"icon-app-theme",fn:"app.goThemesPopular()",title:"Popular Themes"},{id:5,name:"color-dribbble",icon:"icon-app-dribbble",fn:"app.goDribbble()",title:"Dribbble Shots"}];r.shared.loadActions(a,"ColorDetails.View"),r.color=angular.copy(r.shared.activeColor)||"#1ca32d",r.activeColor=r.color,r.origColor="#ffffff",r.foreColor=r.shared.getForegrundContrastedColor(r.color),r.isLight=r.shared.isLight(r.foreColor),r.shared.getColorName(r.color).then(function(e){r.name=e}),r.activeChange=!1,r.cmyk=r.shared.getPercentageCMYK(r.color),r.rgb=r.shared.getPercentageRGB(r.color),r.hsb=r.shared.getPercentageHSB(r.color),r.hex=r.shared.getCodeOnlyFromHexCode(r.activeColor),r.cmykValueChanged=function(e,o){if(1!=e){var a=document.getElementById(o+"-input");0==a.classList.contains("active")&&a.classList.add("active"),setTimeout(function(){1==a.classList.contains("active")&&a.classList.remove("active")},1500)}e&&(r.cmyk.c=parseInt(r.cmyk.c),r.cmyk.m=parseInt(r.cmyk.m),r.cmyk.y=parseInt(r.cmyk.y),r.cmyk.k=parseInt(r.cmyk.k)),0==r.activeChange&&(r.origColor=r.shared.origColor=r.activeColor,r.activeChange=!0),r.shared.handleChangeInCMYK(r.cmyk,r.activeColor).then(function(e){r.activeColor=e,r.foreColor=r.shared.getForegrundContrastedColor(r.activeColor),r.isLight=r.shared.isLight(r.foreColor),r.rgb=r.shared.getPercentageRGB(r.activeColor),r.hsb=r.shared.getPercentageHSB(r.activeColor),r.hex=r.shared.getCodeOnlyFromHexCode(r.activeColor)})},r.rgbValueChange=function(e,o){if(1!=e){var a=document.getElementById(o+"-input");0==a.classList.contains("active")&&a.classList.add("active"),setTimeout(function(){1==a.classList.contains("active")&&a.classList.remove("active")},1500)}e&&(r.rgb.r=parseInt(r.rgb.r),r.rgb.g=parseInt(r.rgb.g),r.rgb.b=parseInt(r.rgb.b)),0==r.activeChange&&(r.origColor=r.shared.origColor=r.activeColor,r.activeChange=!0),r.shared.handleChangeInRGB(r.rgb,r.activeColor).then(function(e){r.activeColor=e,r.foreColor=r.shared.getForegrundContrastedColor(r.activeColor),r.isLight=r.shared.isLight(r.foreColor),r.cmyk=r.shared.getPercentageCMYK(r.activeColor),r.hsb=r.shared.getPercentageHSB(r.activeColor),r.hex=r.shared.getCodeOnlyFromHexCode(r.activeColor)})},r.hsbValueChange=function(e,o){if(1!=e){var a=document.getElementById(o+"-input");0==a.classList.contains("active")&&a.classList.add("active"),setTimeout(function(){1==a.classList.contains("active")&&a.classList.remove("active")},1500)}e&&(r.hsb.h=parseInt(r.hsb.h),r.hsb.s=parseInt(r.hsb.s),r.hsb.b=parseInt(r.hsb.b)),0==r.activeChange&&(r.origColor=r.shared.origColor=r.activeColor,r.activeChange=!0),r.shared.handleChangeInHSB(r.hsb,r.activeColor).then(function(e){r.activeColor=e,r.foreColor=r.shared.getForegrundContrastedColor(r.activeColor),r.isLight=r.shared.isLight(r.foreColor),r.cmyk=r.shared.getPercentageCMYK(r.activeColor),r.rgb=r.shared.getPercentageRGB(r.activeColor),r.hex=r.shared.getCodeOnlyFromHexCode(r.activeColor)})},r.hexValueChanged=function(){0==r.activeChange&&(r.origColor=r.shared.origColor=r.activeColor,r.activeChange=!0),r.activeColor=r.shared.getHexFromCode(r.hex),r.foreColor=r.shared.getForegrundContrastedColor(r.activeColor),r.isLight=r.shared.isLight(r.foreColor),r.cmyk=r.shared.getPercentageCMYK(r.activeColor),r.rgb=r.shared.getPercentageRGB(r.activeColor),r.hsb=r.shared.getPercentageHSB(r.activeColor)},r.revertToOrig=function(e){1==r.activeChange&&(r.activeColor=r.origColor,r.foreColor=r.shared.getForegrundContrastedColor(r.activeColor),r.isLight=r.shared.isLight(r.foreColor),r.cmyk=r.shared.getPercentageCMYK(r.activeColor),r.rgb=r.shared.getPercentageRGB(r.activeColor),r.hsb=r.shared.getPercentageHSB(r.activeColor),r.hex=r.shared.getCodeOnlyFromHexCode(r.activeColor),r.activeChange=!1,r.shared.getColorName(r.origColor).then(function(e){r.name=e})),e&&(e.stopPropagation(),e.preventDefault())},r.shared.revertToOrig=r.revertToOrig,r.shared.ratifyDetails=function(){r.activeChange=!1,r.shared.activeColor=r.activeColor,r.shared.getColorName(r.activeColor).then(function(e){r.name=e})},r.copyCMYK=function(){var e="cmyk(CP, MP, YP, KP)";e=e.replace("CP",r.cmyk.c/100),e=e.replace("MP",r.cmyk.m/100),e=e.replace("YP",r.cmyk.y/100),e=e.replace("KP",r.cmyk.k/100),r.shared.writeToClipboard(e)},r.copyRGB=function(){var e="rgb(RP, GP, BP)",o=r.shared.getRGBCodeOnlyFromHexCode(r.activeColor);e=e.replace("RP",o.r),e=e.replace("GP",o.g),e=e.replace("BP",o.b),r.shared.writeToClipboard(e)},r.copyHSB=function(){var e="hsb(HP, SP, BP)",o=r.shared.getHSVCodeOnlyFromHexCode(r.activeColor);e=e.replace("HP",o.h/100),e=e.replace("SP",o.s/100),e=e.replace("BP",o.v/100),r.shared.writeToClipboard(e)},r.copyHex=function(){r.shared.writeToClipboard(r.activeColor)}}]);
angular.module("NotSoGrey").controller("ColorPickerController",["$state","SharedService","$window","$timeout",function(e,t,a,n){var o=this;o.state=e,o.shared=t,o.window=a,o.showElements=!1,o.animTop=!1,o.showBadge=!1;var r=[{id:2,name:"accept",icon:"icon-png accept",fn:"app.goColorDetails()",title:"Choose Color Shade",active:!0}];o.shared.loadActions(r,"ColorPicker"),o.topnav={isActive1:!0,isActive2:!1,isActive3:!1},o.name="Diablo Red",console.log(o.shared),o.color=o.origColorPrimary=o.shared.activeColor,console.log(o.origColorPrimary),console.log(o.shared.activeColor),o.foreColor="#fff",o.cmyk={c:80,m:33,y:20,k:14},o.rgb={r:80,g:10,b:2},o.hsb={h:80,s:10,b:2},o.hex="1ca32d";var c=!1,i=!1,l=!1,s=null,d=null,f=null;o.height=0,o.goDetails=function(){o.state.go("ColorDetails")},o.activateShade=function(e){_.each(o.shades,function(t){t.id==e.id?t.active=!t.active:t.active=!1,1==t.active&&(o.shared.activeColor=t.hexCode)})},o.canvas={id:_.uniqueId("canvasPicker"),top:null,instance:null,ctx:null,instanceBefore:null,instanceAfter:null,ctxBefore:null,ctxAfter:null,leftBefore:-340,leftAfter:340,colorCurrent:"#fff",colorAfter:"#fff",colorBefore:"#fff"},o.canvasIdBefore=_.uniqueId("canvasPicker"),o.canvasIdCurrent=_.uniqueId("canvasPicker"),o.canvasIdAfter=_.uniqueId("canvasPicker"),o.init=function(e){o.origColorPrimary=e;var t=o.window.innerHeight,a=o.window.innerWidth;o.canvas.instance=document.getElementById(o.canvasIdCurrent),o.canvas.instanceBefore=document.getElementById(o.canvasIdBefore),o.canvas.instanceAfter=document.getElementById(o.canvasIdAfter),o.canvas.instance.height=o.canvas.instanceBefore.height=o.canvas.instanceAfter.height=t-48,o.canvas.instance.width=o.canvas.instanceBefore.width=o.canvas.instanceAfter.width=a,o.canvas.ctx=o.canvas.instance.getContext("2d"),o.canvas.ctxBefore=o.canvas.instanceBefore.getContext("2d"),o.canvas.ctxAfter=o.canvas.instanceAfter.getContext("2d");var r=o.canvas.ctx.createLinearGradient(0,0,0,o.canvas.instance.height);r.addColorStop(0,"white"),o.canvas.colorCurrent=e,r.addColorStop(.5,tinycolor(o.canvas.colorCurrent).toRgbString()),r.addColorStop(1,"black"),o.canvas.ctx.fillStyle=r,o.canvas.ctx.fillRect(0,0,a,o.canvas.instance.height),r=o.canvas.ctxBefore.createLinearGradient(0,0,0,o.canvas.instanceBefore.height),r.addColorStop(0,"white"),o.canvas.colorBefore=o.shared.getPreviousHueHex(e),r.addColorStop(.5,tinycolor(o.canvas.colorBefore).toRgbString()),r.addColorStop(1,"black"),o.canvas.ctxBefore.fillStyle=r,o.canvas.ctxBefore.fillRect(0,0,a,o.canvas.instanceBefore.height),r=o.canvas.ctxAfter.createLinearGradient(0,0,0,o.canvas.instanceAfter.height),r.addColorStop(0,"white"),o.canvas.colorAfter=o.shared.getNextHueHex(e),r.addColorStop(.5,tinycolor(o.canvas.colorAfter).toRgbString()),r.addColorStop(1,"black"),o.canvas.ctxAfter.fillStyle=r,o.canvas.ctxAfter.fillRect(0,0,a,o.canvas.instanceAfter.height),o.canvas.top=o.canvas.instance.height/2,document.getElementById("id_cardPannableContent").style.top=o.canvas.top+"px",o.currenTopPosition=o.canvas.top,o.getBadgeColor(),document.getElementById("id_cardPannableContent").focus(),0==o.animTop&&n(function(){o.animTop=!0,0==o.showBadge&&(o.showBadge=!0)},200)},o.shared.initPicker=o.init,o.getBadgeColor=function(){var e=document.getElementById(o.canvasIdCurrent).getContext("2d").getImageData(o.canvas.instance.width/2,o.currenTopPosition,1,1).data,t={r:e[0],g:e[1],b:e[2]};o.badgeColor=tinycolor(t).toHexString(),o.badgeForeColor=o.shared.getForegrundContrastedColor(o.badgeColor),o.badgeShadow="0px 0px 26px 0px"+tinycolor(o.badgeForeColor).setAlpha(.05).toHexString(),o.shared.activeColor=o.color=o.badgeColor},n(function(){o.showElements=!0,chrome&&chrome.storage.local.get("NSG_COLOR_DATA",function(e){o.shared.activeColor=o.color=tinycolor(e.NSG_COLOR_DATA).toHexString(),n(o.init(o.color))})},33),o.pan=function(e,t){console.log("panstart "+t,e)},o.resetColor=function(){o.canvas.top=o.canvas.instance.height/2,document.getElementById("id_cardPannableContent").style.top=o.canvas.top+"px",o.currenTopPosition=o.canvas.top,o.getBadgeColor()},o.initializeCardPanElement=function(){0==l&&(s=document.getElementById("id_cardPannableContent"))},o.initializeCardPanElementBefore=function(){0==i&&(d=document.getElementById(o.canvasIdBefore))},o.initializeCardPanElementAfter=function(){0==c&&(f=document.getElementById(o.canvasIdAfter))},o.panStart=function(e){o.initializeCardPanElement(),o.initializeCardPanElementBefore(),o.initializeCardPanElementAfter(),o.topBeforePan=parseInt(s.style.top)||0,o.leftBeforePanForBefore=parseInt(d.style.left)||0,o.leftBeforePanForAfter=parseInt(f.style.left)||0},o.panvert=function(e,t){o.initializeCardPanElement();var a=(s.getBoundingClientRect(),document.getElementById("id_cardPannableContentHolder").getBoundingClientRect()),n=o.topBeforePan+(parseInt(e.deltaY)||0);o.maxTop=a.height-40,n>o.maxTop?n=o.maxTop:n<40&&(n=40),document.getElementById("id_cardPannableContent").style.top=n+"px",o.canvas.top=n,o.currenTopPosition=o.canvas.top,o.getBadgeColor()},o.panhorz=function(e,t){if("right"==t||"left"==t&&1==o.panRightStart){0==o.panRightStart&&(o.panRightStart=!0),o.initializeCardPanElementBefore();var a=o.leftBeforePanForBefore+(parseInt(e.deltaX)||0);o.canvas.leftBefore=a}else if("left"==t||"right"==t&&1==o.panLeftStart){0==o.panLeftStart&&(o.panLeftStart=!0),o.initializeCardPanElementAfter();var a=o.leftBeforePanForAfter+(parseInt(e.deltaX)||0);o.canvas.leftAfter=a}},o.panHorzEnd=function(e){var t=_skipAfter=!1;o.canvas.leftBefore>=-170&&(o.init(o.canvas.colorBefore),t=!0),o.canvas.leftAfter<=170&&(o.init(o.canvas.colorAfter),_skipAfter=!0),t||(document.getElementById(o.canvasIdBefore).className+=" anim"),_skipAfter||(document.getElementById(o.canvasIdAfter).className+=" anim"),o.canvas.leftBefore=-340,o.canvas.leftAfter=340,o.panLeftStart=!1,o.panRightStart=!1,n(function(){document.getElementById(o.canvasIdBefore).className=document.getElementById(o.canvasIdBefore).className.replace(" anim",""),document.getElementById(o.canvasIdAfter).className=document.getElementById(o.canvasIdAfter).className.replace(" anim","")},200)},o.mouseWheelUp=function(){o.initializeCardPanElement(),o.topBeforePan=parseInt(s.style.top)||0,o.panvert({deltaY:-5},"down")},o.mouseWheelDown=function(){o.initializeCardPanElement(),o.topBeforePan=parseInt(s.style.top)||0,o.panvert({deltaY:5},"up")},o.swipeLeft=function(){},o.swipeRight=function(){},o.keyUp=function(e){38==e.keyCode?o.mouseWheelUp():40==e.keyCode&&o.mouseWheelDown()}}]);
angular.module("NotSoGrey").controller("DribbbleShotsController",["$state","SharedService","$timeout",function(o,e,t){var r=this;r.shotsLoading=!0,r.state=o,r.shared=e;var a=[{id:1,name:"color-picker",icon:"icon-png back",fn:"app.goColorPicker()",title:"Back To Launcher"},{id:2,name:"color-picker",icon:"icon-app-logo",fn:"app.goColorDetails()",title:"Color Details"},{id:4,name:"color-contrast",icon:"icon-app-contrast",fn:"app.goColorContrast()",title:"Color Contrast"},{id:3,name:"color-theme",icon:"icon-app-theme",fn:"app.goThemesPopular()",title:"Popular Themes"},{id:5,name:"color-dribbble",icon:"icon-app-dribbble",fn:"app.goDribbble()",active:!0,title:"Dribbble Shots"}];r.shared.loadActions(a,"DribbbleShots"),r.shotsAvailable=!1,r.rawData=[],r.openShotsPage=function(){try{require("electron").shell.openExternal("https://dribbble.com/colors/"+tinycolor(r.shared.activeColor).toHex())}catch(o){}},r.openShot=function(o){try{require("electron").shell.openExternal(o.href)}catch(o){}},t(function(){r.shared.getDribbleShots(r.shared.activeColor).then(function(o){r.shotsPage="https://dribbble.com/colors/"+tinycolor(r.shared.activeColor).toHex(),t(function(){r.shotsLoading=!1,r.shotsAvailable=!0,r.shots=[],_.each(o,function(o){r.shots.push({href:o.href,img:o.img})})},1e3)})},500)}]);
angular.module("NotSoGrey").controller("ThemesCreatorController",["$state","SharedService","$timeout",function(e,o,r){var t=this;t.state=e,t.shared=o,t.sharePanelShow=!1,t.toggleSharePanel=function(){t.sharePanelShow=!t.sharePanelShow},t.sharePanelHide=function(){t.sharePanelShow=!1},t.shared.toggleSharePanel=t.toggleSharePanel;var n=[{id:1,name:"back-72b",icon:"icon-png back",fn:"app.goThemesPopular()",title:"Back To Popular Themes"},{id:1,name:"back-72b",icon:"icon-png shuffle",fn:"app.createThemeShuffle()",active:!1,title:"Shuffle Palette"}];t.shared.loadActions(n,"ThemesCreator"),t.themeGeneratorOptions=t.shared.themeGeneratorOptions,1!=t.shared.preLoadedThemeInEdit?(t.mode=t.themeGeneratorOptions[1],t.colors=t.shared.generateMonochromeColorPaletteForColor(t.shared.activeColor)):1==t.shared.preLoadedThemeInEdit&&(t.colors=t.shared.preLoadedTheme,t.mode=t.themeGeneratorOptions[0]),t.foreColor=t.shared.getForegrundContrastedColor(t.colors[0].color),t.foreColorIsLight=t.shared.isLight(t.foreColor),t.toggle=function(e){_.each(t.colors,function(o){o.id==e.id&&(o.locked=!o.locked)})},t.goPicker=function(){t.state.go("ColorPicker")},t.keyUp=function(e){32==e.keyCode&&t.shufflePalette()},t.shufflePalette=function(){t.colors=t.shared.generateColorPalette(t.colors,t.mode),t.foreColor=t.shared.getForegrundContrastedColor(t.colors[0].color),t.foreColorIsLight=t.shared.isLight(t.foreColor)},t.shared.shufflePalette=t.shufflePalette,t.share=function(){console.log("share start")},t.writeSCSSFile=function(){try{var e=[];_.each(t.colors,function(o){var r=tinycolor(o.color);e.push({hex:r.toHexString(),rgb:r.toRgbString()})});var o=require("electron");o.ipcRenderer.send("write-scss",JSON.stringify(e)),o.ipcRenderer.on("write-scss-reply",function(e,o){t.sharePanelShow=!1,t.shared.notifySave(o)})}catch(e){console.log(e)}},t.writePNGFile=function(){try{var e=t.getCanvasFromColors(t.colors),o=require("electron-canvas-to-buffer"),r=o(e,"image/png"),n=require("electron");n.ipcRenderer.send("write-png",r),n.ipcRenderer.on("write-png-reply",function(e,o){t.sharePanelShow=!1,t.shared.notifySave(o)})}catch(e){console.log(e)}},t.writeSVGFile=function(){try{var e=t.getCanvasFromColors(t.colors),o=require("electron");o.ipcRenderer.send("write-svg",e.toDataURL()),o.ipcRenderer.on("write-svg-reply",function(e,o){t.sharePanelShow=!1,t.shared.notifySave(o)})}catch(e){console.log(e)}},t.getCanvasFromColors=function(e){var o=0,r=0,n=400,a=80,l=document.createElement("canvas");l.width=n,l.height=a*t.colors.length;var s=l.getContext("2d");return _.each(t.colors,function(e,t){tinycolor(e.color);s.fillStyle=e.color,s.fillRect(o,r,n,a),o=0,r=(t+1)*a}),l},t.getASESJson=function(e){var o={version:"1.0",groups:[],colors:[]};return _.each(e,function(e){var r=tinycolor(e.color),t=r.toRgb(),n=[];t.r=Math.round(t.r/255*100)/100,t.g=Math.round(t.g/255*100)/100,t.b=Math.round(t.b/255*100)/100,n.push(t.r),n.push(t.g),n.push(t.b);var a={name:"RGB Red",model:"RGB",color:n,type:"global"};o.colors.push(a)}),o},t.writeToPDF=function(){try{var e=require("electron");e.ipcRenderer.send("write-pdf"),e.ipcRenderer.on("write-pdf-reply",function(e,o){t.sharePanelShow=!1,t.shared.notifySave(o)})}catch(e){console.log(e)}},t.writeToASE=function(){try{var e=t.getASESJson(t.colors),o=require("electron");o.ipcRenderer.send("write-ase",e),o.ipcRenderer.on("write-ase-reply",function(e,o){t.sharePanelShow=!1,t.shared.notifySave(o)})}catch(e){console.log(e)}},t.shared.createdThemeShare=t.share,r(function(){document.getElementById("_nsg_themesCreator").focus()},100)}]);
angular.module("NotSoGrey").controller("ThemesPopularController",["$state","SharedService",function(e,o){var r=this;r.state=e,r.shared=o;var t=[{id:1,name:"color-picker",icon:"icon-png back",fn:"app.goColorPicker()",title:"Back To Launcher"},{id:2,name:"color-picker",icon:"icon-app-logo",fn:"app.goColorDetails()",title:"Color Details"},{id:4,name:"color-contrast",icon:"icon-app-contrast",fn:"app.goColorContrast()",title:"Color Contrast"},{id:3,name:"color-theme",icon:"icon-app-theme",fn:"app.goThemesPopular()",title:"Popular Themes",active:!0},{id:5,name:"color-dribbble",icon:"icon-app-dribbble",fn:"app.goDribbble()",title:"Dribbble Shots"}];r.shared.loadActions(t,"ThemesPopular"),r.themes=[],r.shared.generateThemes().then(function(e){r.themes=e}),r.openInEditor=function(e){r.shared.preLoadedThemeInEdit=!0,r.shared.preLoadedTheme=r.shared.processComboForTheme(e),r.state.go("ThemesCreator")},r.goPicker=function(){r.state.go("ColorPicker")},r.goThemeCreator=function(){r.state.go("ThemesCreator")},r.unregister=function(){electron.ipcRenderer.send("asynchronous-unregister","ping")}}]);
angular.module("NotSoGrey").directive("appAction",["$parse","$compile",function(e,c){return{replace:!0,link:function(e,i,n){var t='<div class="icon-container w100 CLASS_ACTIVE " ng-click="ACTION_FN"><i class="icon ACTION_ICON" title="ACTION_TITLE" ></i></div>';t=t.replace("ACTION_TITLE",n.actitle||""),t=t.replace("ACTION_FN",n.fn),t=t.replace("ACTION_ICON",n.icon),t=t.replace("CLASS_ACTIVE","true"==n.active?"active":""),i.html(t),c(i.contents())(e)}}}]);
angular.module("NotSoGrey").directive("ngLongHover",["$timeout",function(n){return{restrict:"A",link:function(o,e,t){e.bind("mouseenter",function(e){o.longHover=!0,n(function(){o.longHover&&o.$apply(function(){o.$eval(t.ngLongHover)})},1500)}),e.bind("mouseleave",function(n){o.longHover=!1})}}}]);
angular.module("NotSoGrey").directive("ngLongPress",["$timeout",function(n){return{restrict:"A",link:function(o,t,e){t.bind("touchstart",function(t){o.longPress=!0,n(function(){o.longPress&&o.$apply(function(){o.$eval(e.ngLongPress)})},600)}),t.bind("touchend",function(n){o.longPress=!1})}}}]);
angular.module("NotSoGrey").directive("ngMousewheelDown",function(){return function(e,n,o){n.bind("DOMMouseScroll mousewheel onmousewheel",function(n){var n=window.event||n,t=Math.max(-1,Math.min(1,n.wheelDelta||-n.detail));t<0&&(e.$apply(function(){e.$eval(o.ngMousewheelDown)}),n.returnValue=!1,n.preventDefault&&n.preventDefault())})}});
angular.module("NotSoGrey").directive("ngMousewheelUp",function(){return function(e,n,t){n.bind("DOMMouseScroll mousewheel onmousewheel",function(n){var n=window.event||n,l=Math.max(-1,Math.min(1,n.wheelDelta||-n.detail));l>0&&(e.$apply(function(){e.$eval(t.ngMousewheelUp)}),n.returnValue=!1,n.preventDefault&&n.preventDefault())})}});